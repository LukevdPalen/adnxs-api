{"version":3,"file":"appnxs-lib-dist.js","sources":["appnxs-lib-dist.js","/source/appnxs-lib-dist.js"],"names":["global","factory","exports","module","require","define","amd","AddNXS","_limiter","request_promise","this","responseContainsError","body","response","status","wrapAppnexusError","error","Error","error_id","handleErrorResponse","eventEmitter","callback","_endpoints__endpoints","ACCOUNT_RECOVERY_SERVICE","AD_PROFILE_SERVICE","AD_QUALITY_RULE_SERVICE","AD_SERVER_SERVICE","ADVERTISER_SERVICE","APP_INSTALLATION_SERVICE","AUTHENTICATION_SERVICE","BATCH_SEGMENT_SERVICE","BRAND_COMPANY_SERVICE","BRAND_SERVICE","BROKER_SERVICE","BROWSER_SERVICE","CAMPAIGN_SERVICE","CARRIER_SERVICE","CATEGORY_SERVICE","CITY_SERVICE","CLICK_TRACKER_SERVICE","CONTENT_CATEGORY_SERVICE","COUNTRY_SERVICE","CREATIVE_CUSTOM_REQUEST_TEMPLATE_SERVICE","CREATIVE_CUSTOM_REQUEST_TEMPLATE_TYPE_SERVICE","CREATIVE_FOLDER_SERVICE","CREATIVE_FORMAT_SERVICE","CREATIVE_MACRO_CHECK_SERVICE","CREATIVE_SEARCH_SERVICE","CREATIVE_SERVICE","CREATIVE_TEMPLATE_SERVICE","CURRENCY_SERVICE","DEAL_BUYER_ACCESS_SERVICE","DEAL_FROM_PACKAGE_SERVICE","DEAL_SERVICE","DEMOGRAPHIC_AREA_SERVICE","DEVELOPER_SERVICE","DEVICE_MAKE_SERVICE","DEVICE_MODEL_SERVICE","DOMAIN_AUDIT_STATUS_SERVICE","DOMAIN_LIST_SERVICE","EXTERNAL_INVENTORY_CODE_SERVICE","EXTRACT_CLICKTAGS_SERVICE","FEED_STATUS_SERVICE","IMPRESSION_TRACKER_SERVICE","INSERTION_ORDER_SERVICE","INVENTORY_ATTRIBUTE_SERVICE","INVENTORY_GROUP_SERVICE","INVENTORY_RESOLD_SERVICE","INVENTORY_SOURCE_SERVICE","IP_RANGE_LIST_SERVICE","LABEL_SERVICE","LANGUAGE_SERVICE","LINE_ITEM_SERVICE","LOG_LEVEL_DATA_SERVICE","LOOKUP_SERVICE","MANUAL_OFFER_RANKING_SERVICE","MEDIA_SUBTYPE_SERVICE","MEDIA_TYPE_SERVICE","MEMBER_PROFILE_SERVICE","MEMBER_SERVICE","MOBILE_APP_INSTANCE_LIST_SERVICE","MOBILE_APP_INSTANCE_SERVICE","MOBILE_APP_SERVICE","MOBILE_APP_STORE_SERVICE","OBJECT_LIMIT_SERVICE","OPERATING_SYSTEM_EXTENDED_SERVICE","OPERATING_SYSTEM_FAMILY_SERVICE","OPERATING_SYSTEM_SERVICE","OPTIMIZATION_ZONE_SERVICE","PACKAGE_BUYER_ACCESS_SERVICE","PACKAGE_SERVICE","PAYMENT_RULE_SERVICE","PIXEL_SERVICE","PIXEL_TEMPLATE_SERVICE","PLACEMENT_SERVICE","PLATFORM_MEMBER_SERVICE","PLUGIN_INSTANCE_SERVICE","PLUGIN_SERVICE","PROFILE_SERVICE","PROFILE_SUMMARY_SERVICE","PUBLISHER_SERVICE","REGION_SERVICE","REPORT_SERVICE","REPORT_STATUS_SERVICE","SAVED_REPORT_SERVICE","SEARCH_SERVICE","SEGMENT_SERVICE","SIPHON_CONFIG_SERVICE","SITE_SERVICE","TAG_PARSER_SERVICE","TECHNICAL_ATTRIBUTE_SERVICE","THIRD_PARTY_PAGE_ACCESS_SERVICE","THIRD_PARTY_PIXEL_SERVICE","TOWN_SERVICE","USER_GROUP_PATTERN_SERVICE","USER_SERVICE","USER_VERIFICATION_SERVICE","VISIBILITY_PROFILE_SERVICE","_endpoints","Transport","options","undefined","arguments","apiBase","endpoint","args","request","method","payload","uri","json","token","headers","Authorization","request_promise__default","then","_Transport","MAX_AUTH_PERIOD","MAX_READ_PERIOD","MAX_WRITE_PERIOD","MAX_READ_PER_PERIOD","MAX_WRITE_PER_PERIOD","MAX_AUTH_PER_PERIOD","TOKEN_LIFETIME","credentials","Client","_Transport2","limits","_get","Object","getPrototypeOf","prototype","call","writeLimiter","RateLimiter","write","readLimiter","read","authLimiter","auth","username","password","data","post","console","log","_this2","value","_ts","Date","authorize","Promise","resolve","reject","limiter","_this3","removeTokens","err","remainingRequests","Array","_len","_key","rateLimiter","_this4","isExpired","refreshToken","_this","apply","endPoints__endpoints","endPoints","AppNxs","index"],"mappings":"m2BCAA,SAAWA,EAAQC,GACI,gBAAZC,UAA0C,mBAAXC,QAAyBF,EAAQC,QAASE,QAAQ,WAAYA,QAAQ,oBAC1F,kBAAXC,SAAyBA,OAAOC,IAAMD,QAAQ,UAAW,UAAW,mBAAoBJ,GAC/FA,EAASD,EAAOO,UAAcP,EAAOQ,SAAUR,EAAOS,kBACxDC,KAAM,SAAUR,EAASM,EAAUC,GAAmB,YAsHpD,SAASE,GAAsBC,GAC3B,MAA6B,OAAzBA,EAAKC,SAASC,QACP,GAEJ,EAIX,QAASC,GAAkBH,GACvB,GAAII,GAAQ,GAAIC,OAAML,GAAQA,EAAKC,UAAYD,EAAKC,SAASG,MAE7D,OADAA,GAAME,SAAWN,GAAQA,EAAKC,UAAYD,EAAKC,SAASK,SACjDF,EAGX,QAASG,GAAoBP,EAAMQ,EAAcC,GAC7C,GAAIL,GAAQD,EAAkBH,EAM9B,OAAOI,GArIX,GAAMM,IAMFC,yBAA0B,oBAC1BC,mBAAoB,cACpBC,wBAAyB,mBACzBC,kBAAmB,aACnBC,mBAAoB,cACpBC,yBAA0B,oBAC1BC,uBAAwB,QACxBC,sBAAuB,iBACvBC,sBAAuB,iBACvBC,cAAe,SACfC,eAAgB,UAChBC,gBAAiB,WACjBC,iBAAkB,YAClBC,gBAAiB,WACjBC,iBAAkB,YAClBC,aAAc,QACdC,sBAAuB,gBACvBC,yBAA0B,oBAC1BC,gBAAiB,WACjBC,yCAA0C,oCAC1CC,8CAA+C,yCAC/CC,wBAAyB,mBACzBC,wBAAyB,mBACzBC,6BAA8B,wBAC9BC,wBAAyB,mBACzBC,iBAAkB,YAClBC,0BAA2B,YAC3BC,iBAAkB,YAClBC,0BAA2B,wBAC3BC,0BAA2B,qBAC3BC,aAAc,QACdC,yBAA0B,OAC1BC,kBAAmB,aACnBC,oBAAqB,eACrBC,qBAAsB,gBACtBC,4BAA6B,oBAC7BC,oBAAqB,eACrBC,gCAAiC,qBACjCC,0BAA2B,sBAC3BC,oBAAqB,eACrBC,2BAA4B,cAC5BC,wBAAyB,mBACzBC,4BAA6B,uBAC7BC,wBAAyB,mBACzBC,yBAA0B,oBAC1BC,yBAA0B,oBAC1BC,sBAAuB,iBACvBC,cAAe,SACfC,iBAAkB,YAClBC,kBAAmB,aACnBC,uBAAwB,UACxBC,eAAgB,UAChBC,6BAA8B,wBAC9BC,sBAAuB,iBACvBC,mBAAoB,cACpBC,uBAAwB,kBACxBC,eAAgB,UAChBC,iCAAkC,4BAClCC,4BAA6B,uBAC7BC,mBAAoB,cACpBC,yBAA0B,oBAC1BC,qBAAsB,gBACtBC,kCAAmC,6BACnCC,gCAAiC,2BACjCC,yBAA0B,oBAC1BC,0BAA2B,qBAC3BC,6BAA8B,wBAC9BC,gBAAiB,WACjBC,qBAAsB,gBACtBC,cAAe,SACfC,uBAAwB,kBACxBC,kBAAmB,aACnBC,wBAAyB,mBACzBC,wBAAyB,mBACzBC,eAAgB,UAChBC,gBAAiB,WACjBC,wBAAyB,mBACzBC,kBAAmB,aACnBC,eAAgB,UAChBC,eAAgB,UAChBC,sBAAuB,iBACvBC,qBAAsB,gBACtBC,eAAgB,UAChBC,gBAAiB,WACjBC,sBAAuB,iBACvBC,aAAc,QACdC,mBAAoB,kBACpBC,4BAA6B,uBAC7BC,gCAAiC,yBACjCC,0BAA2B,oBAC3BC,aAAc,QACdC,2BAA4B,qBAC5BC,aAAc,QACdC,0BAA2B,qBAC3BC,2BAA4B,uBAI5BC,EAAahG,EA6CXiG,EAAS,WAMA,QANTA,QAMUC,GAAOC,SAAAC,UAAA,MAAKA,UAAA,wBANtBH,GAYE7G,KAAK8G,QAAUA,EAEf9G,KAAK8G,QAAQG,QAAUjH,KAAK8G,QAAQG,SAAW,wBAdjDJ,oBA0BC,SAACK,MAAUC,GAAIJ,SAAAC,UAAA,MAAGA,UAAA,EACjB,OAAOhH,MAAKoH,QAAQ,MAAOF,EAAUC,sBAYtC,SAACD,MAAUC,GAAIJ,SAAAC,UAAA,MAAGA,UAAA,EACjB,OAAOhH,MAAKoH,QAAQ,MAAOF,EAAUC,uBAYrC,SAACD,MAAUC,GAAIJ,SAAAC,UAAA,MAAGA,UAAA,EAClB,OAAOhH,MAAKoH,QAAQ,OAAQF,EAAUC,0BA2BnC,SAACE,EAAQH,EAAUC,GAEtB,GAAIG,IACAC,IAAMvH,KAAK8G,QAAQG,QAAUC,EAC7BM,KAAML,EACNE,OAAAA,EASJ,OANGrH,MAAK8G,QAAQW,QACZH,EAAQI,SACJC,cAAiB3H,KAAK8G,QAAQW,QAI/BG,yBAAyBN,GAC3BO,KAAK,SAAC3H,GACH,GAAGD,EAAsBC,GAAQ,KAAMO,GAAoBP,EAC3D,OAAOA,GAAKC,eAjGtB0G,KAsGFiB,EAAajB,EAKXkB,EAAkB,IAGlBC,EAAkB,IAGlBC,EAAmB,IAGnBC,EAAsB,IAGtBC,EAAuB,GAGvBC,EAAsB,GAGtBC,EAAiB,KAGnBC,KASEC,EAAM,SAAAC,GAQG,QARTD,QAQWtB,GAAOF,SAAAC,UAAA,GAAC,0BAAyBA,UAAA,GAAEyB,EAAM1B,SAAAC,UAAA,MAAGA,UAAA,wBARvDuB,GASEG,KAAAC,OAAAC,eATFL,EAAMM,WAAA,cAAA7I,MAAA8I,KAAA9I,MAUJA,KAAK8G,SAAYG,QAAAA,EAASwB,OAAAA,GAG1BzI,KAAK+I,aAAe,GAAIjJ,GAASkJ,YAAYP,EAAOQ,OAASd,EAAsBF,GACnFjI,KAAKkJ,YAAc,GAAIpJ,GAASkJ,YAAYP,EAAOU,MAAOjB,EAAqBF,GAC/EhI,KAAKoJ,YAAc,GAAItJ,GAASkJ,YAAYP,EAAOY,MAAOjB,EAAqBL,oBAfjFQ,EAAMC,gBAAND,0BA0BO,SAACe,EAAUC,aAEhB,KAAID,IAAaC,EACb,KAAMhJ,OAAM,yCAGhB+H,IAAgBgB,SAAAA,EAAUC,SAAAA,EAE1B,IAAIC,IACAH,KAAOf,EAOX,OAJGtI,MAAK8G,QAAQW,aACLzH,MAAK8G,QAAQW,MAGjBzH,KAAKyJ,KAAK7C,EAAWzF,uBAAwBqI,GAC/C3B,KAAK,SAAC1H,GAIH,MAHAuJ,SAAQC,IAAIxJ,GAEZyJ,EAAK9C,QAAQW,OAAUoC,MAAO1J,EAASsH,MAAOqC,KAAM,GAAIC,OACjD5J,EAASsH,oCAUhB,WACR,IAAIa,EAAYgB,WAAahB,EAAYiB,SACrC,KAAMhJ,OAAM,yCAGhB,OAAOP,MAAKgK,UAAU1B,EAAYgB,SAAUhB,EAAYiB,mCASnD,WACL,SAAUvJ,KAAK8G,QAAQW,OAAUzH,KAAK8G,QAAQW,MAAMqC,IAAMzB,IAAoB,GAAI0B,kCAa3E,SAAC1C,EAAQH,aAEhB,OAAO,IAAI+C,SAAQ,SAACC,EAASC,GACzB,GAAIC,GAAU,IAEd,IAAGlD,IAAaN,EAAWzF,uBACvBiJ,EAAUC,EAAKjB,gBACZ,IAAc,SAAX/B,GAAiC,QAAXA,GAAgC,WAAXA,EACjD+C,EAAUC,EAAKtB,iBACZ,CAAA,GAAc,QAAX1B,EAGN,MAAO6C,IAFPE,GAAUC,EAAKnB,YAKnBkB,EAAQE,aAAa,EAAG,SAACC,EAAKC,GAC1B,MAAGD,GACQJ,EAAOI,OAElBL,GAAQM,8BAmBb,6CAAKrD,EAAIsD,MAAAC,GAAAC,EAAA,EAAAD,EAAAC,EAAAA,IAAJxD,EAAIwD,GAAA3D,UAAA2D,cACRtD,EAASF,EAAK,GACdD,EAAWC,EAAK,EAEpB,OAAOnH,MAAK4K,YAAYvD,EAAQH,GAC3BW,KAAK,WAEF,MAAGX,KAAYN,EAAWzF,wBAA0B0J,EAAKC,YAC9CD,EAAKE,eACPlD,KAAIa,KAAAC,OAAAC,eApIvBL,EAAMM,WAAA,UAAAmC,GAAAC,MAAAD,EAoImC7D,IAG/BuB,KAAAC,OAAAC,eAvIVL,EAAMM,WAAA,UAAAmC,GAAAC,MAAAD,EAuI4B7D,SAvIlCoB,GAAeT,GAkJfoD,GAMFrK,yBAA0B,oBAC1BC,mBAAoB,cACpBC,wBAAyB,mBACzBC,kBAAmB,aACnBC,mBAAoB,cACpBC,yBAA0B,oBAC1BC,uBAAwB,QACxBC,sBAAuB,iBACvBC,sBAAuB,iBACvBC,cAAe,SACfC,eAAgB,UAChBC,gBAAiB,WACjBC,iBAAkB,YAClBC,gBAAiB,WACjBC,iBAAkB,YAClBC,aAAc,QACdC,sBAAuB,gBACvBC,yBAA0B,oBAC1BC,gBAAiB,WACjBC,yCAA0C,oCAC1CC,8CAA+C,yCAC/CC,wBAAyB,mBACzBC,wBAAyB,mBACzBC,6BAA8B,wBAC9BC,wBAAyB,mBACzBC,iBAAkB,YAClBC,0BAA2B,YAC3BC,iBAAkB,YAClBC,0BAA2B,wBAC3BC,0BAA2B,qBAC3BC,aAAc,QACdC,yBAA0B,OAC1BC,kBAAmB,aACnBC,oBAAqB,eACrBC,qBAAsB,gBACtBC,4BAA6B,oBAC7BC,oBAAqB,eACrBC,gCAAiC,qBACjCC,0BAA2B,sBAC3BC,oBAAqB,eACrBC,2BAA4B,cAC5BC,wBAAyB,mBACzBC,4BAA6B,uBAC7BC,wBAAyB,mBACzBC,yBAA0B,oBAC1BC,yBAA0B,oBAC1BC,sBAAuB,iBACvBC,cAAe,SACfC,iBAAkB,YAClBC,kBAAmB,aACnBC,uBAAwB,UACxBC,eAAgB,UAChBC,6BAA8B,wBAC9BC,sBAAuB,iBACvBC,mBAAoB,cACpBC,uBAAwB,kBACxBC,eAAgB,UAChBC,iCAAkC,4BAClCC,4BAA6B,uBAC7BC,mBAAoB,cACpBC,yBAA0B,oBAC1BC,qBAAsB,gBACtBC,kCAAmC,6BACnCC,gCAAiC,2BACjCC,yBAA0B,oBAC1BC,0BAA2B,qBAC3BC,6BAA8B,wBAC9BC,gBAAiB,WACjBC,qBAAsB,gBACtBC,cAAe,SACfC,uBAAwB,kBACxBC,kBAAmB,aACnBC,wBAAyB,mBACzBC,wBAAyB,mBACzBC,eAAgB,UAChBC,gBAAiB,WACjBC,wBAAyB,mBACzBC,kBAAmB,aACnBC,eAAgB,UAChBC,eAAgB,UAChBC,sBAAuB,iBACvBC,qBAAsB,gBACtBC,eAAgB,UAChBC,gBAAiB,WACjBC,sBAAuB,iBACvBC,aAAc,QACdC,mBAAoB,kBACpBC,4BAA6B,uBAC7BC,gCAAiC,yBACjCC,0BAA2B,oBAC3BC,aAAc,QACdC,2BAA4B,qBAC5BC,aAAc,QACdC,0BAA2B,qBAC3BC,2BAA4B,uBAI5BwE,EAAYD,EAMVE,GACF7C,OAAAA,EACA1B,UAAAA,EACAsE,UAAAA,GAGAE,EAAQD,CAEZ5L,GAAQ,WAAa6L;;;;;;;;ADhjBzB,AAAC,CAAA,UAAU,MAAM,EAAE,OAAO,EAAE;AACxB,WAAO,OAAO,KAAK,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,GAAG,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,iBAAiB,CAAC,CAAC,GAC/H,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,SAAS,EAAE,SAAS,EAAE,iBAAiB,CAAC,EAAE,OAAO,CAAC,GACvG,OAAO,CAAE,MAAM,CAAC,MAAM,GAAG,EAAE,EAAG,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,eAAe,CAAC,CAAA;CACzE,CAAA,CAAC,IAAI,EAAE,UAAU,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE;AAAE,gBAAY,CAAC;;;;;;AAMjE,QAAM,qBAAqB,GAAG;;;;;;AAM1B,gCAAwB,EAAE,mBAAmB;AAC7C,0BAAkB,EAAE,aAAa;AACjC,+BAAuB,EAAE,kBAAkB;AAC3C,yBAAiB,EAAE,YAAY;AAC/B,0BAAkB,EAAE,aAAa;AACjC,gCAAwB,EAAE,mBAAmB;AAC7C,8BAAsB,EAAE,OAAO;AAC/B,6BAAqB,EAAE,gBAAgB;AACvC,6BAAqB,EAAE,gBAAgB;AACvC,qBAAa,EAAE,QAAQ;AACvB,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,wBAAgB,EAAE,WAAW;AAC7B,uBAAe,EAAE,UAAU;AAC3B,wBAAgB,EAAE,WAAW;AAC7B,oBAAY,EAAE,OAAO;AACrB,6BAAqB,EAAE,eAAe;AACtC,gCAAwB,EAAE,mBAAmB;AAC7C,uBAAe,EAAE,UAAU;AAC3B,gDAAwC,EAAE,mCAAmC;AAC7E,qDAA6C,EAAE,wCAAwC;AACvF,+BAAuB,EAAE,kBAAkB;AAC3C,+BAAuB,EAAE,kBAAkB;AAC3C,oCAA4B,EAAE,uBAAuB;AACrD,+BAAuB,EAAE,kBAAkB;AAC3C,wBAAgB,EAAE,WAAW;AAC7B,iCAAyB,EAAE,WAAW;AACtC,wBAAgB,EAAE,WAAW;AAC7B,iCAAyB,EAAE,uBAAuB;AAClD,iCAAyB,EAAE,oBAAoB;AAC/C,oBAAY,EAAE,OAAO;AACrB,gCAAwB,EAAE,MAAM;AAChC,yBAAiB,EAAE,YAAY;AAC/B,2BAAmB,EAAE,cAAc;AACnC,4BAAoB,EAAE,eAAe;AACrC,mCAA2B,EAAE,mBAAmB;AAChD,2BAAmB,EAAE,cAAc;AACnC,uCAA+B,EAAE,oBAAoB;AACrD,iCAAyB,EAAE,qBAAqB;AAChD,2BAAmB,EAAE,cAAc;AACnC,kCAA0B,EAAE,aAAa;AACzC,+BAAuB,EAAE,kBAAkB;AAC3C,mCAA2B,EAAE,sBAAsB;AACnD,+BAAuB,EAAE,kBAAkB;AAC3C,gCAAwB,EAAE,mBAAmB;AAC7C,gCAAwB,EAAE,mBAAmB;AAC7C,6BAAqB,EAAE,gBAAgB;AACvC,qBAAa,EAAE,QAAQ;AACvB,wBAAgB,EAAE,WAAW;AAC7B,yBAAiB,EAAE,YAAY;AAC/B,8BAAsB,EAAE,SAAS;AACjC,sBAAc,EAAE,SAAS;AACzB,oCAA4B,EAAE,uBAAuB;AACrD,6BAAqB,EAAE,gBAAgB;AACvC,0BAAkB,EAAE,aAAa;AACjC,8BAAsB,EAAE,iBAAiB;AACzC,sBAAc,EAAE,SAAS;AACzB,wCAAgC,EAAE,2BAA2B;AAC7D,mCAA2B,EAAE,sBAAsB;AACnD,0BAAkB,EAAE,aAAa;AACjC,gCAAwB,EAAE,mBAAmB;AAC7C,4BAAoB,EAAE,eAAe;AACrC,yCAAiC,EAAE,4BAA4B;AAC/D,uCAA+B,EAAE,0BAA0B;AAC3D,gCAAwB,EAAE,mBAAmB;AAC7C,iCAAyB,EAAE,oBAAoB;AAC/C,oCAA4B,EAAE,uBAAuB;AACrD,uBAAe,EAAE,UAAU;AAC3B,4BAAoB,EAAE,eAAe;AACrC,qBAAa,EAAE,QAAQ;AACvB,8BAAsB,EAAE,iBAAiB;AACzC,yBAAiB,EAAE,YAAY;AAC/B,+BAAuB,EAAE,kBAAkB;AAC3C,+BAAuB,EAAE,kBAAkB;AAC3C,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,+BAAuB,EAAE,kBAAkB;AAC3C,yBAAiB,EAAE,YAAY;AAC/B,sBAAc,EAAE,SAAS;AACzB,sBAAc,EAAE,SAAS;AACzB,6BAAqB,EAAE,gBAAgB;AACvC,4BAAoB,EAAE,eAAe;AACrC,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,6BAAqB,EAAE,gBAAgB;AACvC,oBAAY,EAAE,OAAO;AACrB,0BAAkB,EAAE,iBAAiB;AACrC,mCAA2B,EAAE,sBAAsB;AACnD,uCAA+B,EAAE,wBAAwB;AACzD,iCAAyB,EAAE,mBAAmB;AAC9C,oBAAY,EAAE,OAAO;AACrB,kCAA0B,EAAE,oBAAoB;AAChD,oBAAY,EAAE,OAAO;AACrB,iCAAyB,EAAE,oBAAoB;AAC/C,kCAA0B,EAAE,qBAAqB;;KAEpD,CAAC;;AAEF,QAAI,UAAU,GAAG,qBAAqB,CAAC;;;;;;;;AAQvC,aAAS,qBAAqB,CAAC,IAAI,EAAE;AACjC,YAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,IAAI,EAAE;AAC/B,mBAAO,IAAI,CAAC;SACf;AACD,eAAO,KAAK,CAAC;KAChB;;AAGD,aAAS,iBAAiB,CAAC,IAAI,EAAE;AAC7B,YAAI,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACpE,aAAK,CAAC,QAAQ,GAAG,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;AACjE,eAAO,KAAK,CAAC;KAChB;;AAED,aAAS,mBAAmB,CAAC,IAAI,EAAE,YAAY,EAAE,QAAQ,EAAE;AACvD,YAAI,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAC;;;;;;AAMpC,eAAO,KAAK,CAAC;KAChB;;;;;AAKD,QAAM,iBAAiB,GAAG,EAAE,CAAC;;;AAG7B,QAAM,gBAAgB,GAAG,GAAG,CAAC;;;;;;;;QAOvB,SAAS;;;;;;;AAMA,iBANT,SAAS,GAMc;gBAAb,OAAO,gCAAG,EAAE;;kCANtB,SAAS;;;;;;AAYP,gBAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;AAEvB,gBAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC;SACtD;;qBAfC,SAAS;;;;;;;;;;;;mBA0BR,aAAC,QAAQ,EAAU;oBAAR,IAAI,gCAAC,EAAE;;AACjB,uBAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC9C;;;;;;;;;;;;;mBAWE,aAAC,QAAQ,EAAU;oBAAR,IAAI,gCAAC,EAAE;;AACjB,uBAAO,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC9C;;;;;;;;;;;;;mBAWG,cAAC,QAAQ,EAAU;oBAAR,IAAI,gCAAC,EAAE;;AAClB,uBAAO,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBA0BM,iBAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAC;;AAE3B,oBAAI,OAAO,GAAG;AACV,uBAAG,EAAG,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,QAAQ;AACrC,wBAAI,EAAE,IAAI;AACV,0BAAM,EAAN,MAAM;iBACT,CAAC;;AAEF,oBAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC;AAClB,2BAAO,CAAC,OAAO,GAAG;AACd,uCAAiB,IAAI,CAAC,OAAO,CAAC,KAAK;qBACtC,CAAC;iBACL;;AAED,uBAAO,wBAAwB,CAAC,OAAO,CAAC,CACnC,IAAI,CAAC,UAAC,IAAI,EAAG;AACV,wBAAG,qBAAqB,CAAC,IAAI,CAAC,EAAC;AAAE,8BAAM,mBAAmB,CAAC,IAAI,CAAC,CAAC;qBAAC;AAClE,2BAAO,IAAI,CAAC,QAAQ,CAAC;iBACxB,CAAC,CAAC;aACV;;;eAnGC,SAAS;;;AAsGf,QAAI,UAAU,GAAG,SAAS,CAAC;;;;;AAK3B,QAAM,eAAe,GAAG,MAAM,CAAC;;;AAG/B,QAAM,eAAe,GAAG,KAAK,CAAC;;;AAG9B,QAAM,gBAAgB,GAAG,KAAK,CAAC;;;AAG/B,QAAM,mBAAmB,GAAG,GAAG,CAAC;;;AAGhC,QAAM,oBAAoB,GAAG,EAAE,CAAC;;;AAGhC,QAAM,mBAAmB,GAAG,EAAE,CAAC;;;AAG/B,QAAM,cAAc,GAAG,EAAE,GAAC,EAAE,GAAC,IAAI,CAAC;;;AAGlC,QAAI,WAAW,GAAG,EAAE,CAAC;;;;;;;;;QASf,MAAM;;;;;;;;;AAQG,iBART,MAAM,GAQmD;gBAA9C,OAAO,gCAAC,yBAAyB;gBAAE,MAAM,gCAAC,EAAE;;kCARvD,MAAM;;AASJ,uCATF,MAAM,6CASI;AACR,gBAAI,CAAC,OAAO,GAAG,EAAE,OAAO,EAAP,OAAO,EAAE,MAAM,EAAN,MAAM,EAAE,CAAC;;;AAGnC,gBAAI,CAAC,YAAY,GAAG,IAAI,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,IAAI,oBAAoB,EAAE,gBAAgB,CAAC,CAAC;AACrG,gBAAI,CAAC,WAAW,GAAG,IAAI,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,IAAG,mBAAmB,EAAE,eAAe,CAAC,CAAC;AAChG,gBAAI,CAAC,WAAW,GAAG,IAAI,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,IAAG,mBAAmB,EAAE,eAAe,CAAC,CAAC;SACnG;;kBAhBC,MAAM;;qBAAN,MAAM;;;;;;;;;;;mBA0BC,mBAAC,QAAQ,EAAE,QAAQ,EAAC;;;AAEzB,oBAAG,CAAC,QAAQ,IAAI,CAAC,QAAQ,EAAC;AACtB,0BAAM,KAAK,CAAC,wCAAwC,CAAC,CAAC;iBACzD;;AAED,2BAAW,GAAG,EAAE,QAAQ,EAAR,QAAQ,EAAE,QAAQ,EAAR,QAAQ,EAAE,CAAC;;AAErC,oBAAI,IAAI,GAAG;AACP,wBAAI,EAAG,WAAW;iBACrB,CAAC;;AAEF,oBAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAC;AAClB,2BAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;iBAC7B;;AAED,uBAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,EAAE,IAAI,CAAC,CACpD,IAAI,CAAC,UAAC,QAAQ,EAAK;AAChB,2BAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;AAEtB,2BAAK,OAAO,CAAC,KAAK,GAAI,EAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,IAAI,EAAE,EAAC,CAAC;AAChE,2BAAO,QAAQ,CAAC,KAAK,CAAC;iBACzB,CAAC,CAAC;aACV;;;;;;;;;;mBAQW,wBAAE;AACV,oBAAG,CAAC,WAAW,CAAC,QAAQ,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAC;AAC9C,0BAAM,KAAK,CAAC,wCAAwC,CAAC,CAAC;iBACzD;;AAED,uBAAO,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;aACrE;;;;;;;;;;mBAQQ,qBAAE;AACP,uBAAO,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,AAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,cAAc,IAAK,CAAC,IAAI,IAAI,EAAE,CAAA,AAAC,CAAC;aAC7F;;;;;;;;;;;;;mBAYU,qBAAC,MAAM,EAAE,QAAQ,EAAC;;;AAEzB,uBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,EAAK;AACpC,wBAAI,OAAO,GAAG,IAAI,CAAC;;AAEnB,wBAAG,QAAQ,KAAK,UAAU,CAAC,sBAAsB,EAAC;AAC9C,+BAAO,GAAG,OAAK,WAAW,CAAC;qBAC9B,MAAM,IAAG,MAAM,KAAK,MAAM,IAAK,MAAM,KAAK,KAAK,IAAK,MAAM,KAAK,QAAQ,EAAC;AACrE,+BAAO,GAAG,OAAK,YAAY,CAAC;qBAC/B,MAAM,IAAG,MAAM,KAAK,KAAK,EAAC;AACvB,+BAAO,GAAG,OAAK,WAAW,CAAC;qBAC9B,MAAM;AACH,+BAAO,OAAO,EAAE,CAAC;qBACpB;;AAED,2BAAO,CAAC,YAAY,CAAC,CAAC,EAAE,UAAC,GAAG,EAAE,iBAAiB,EAAK;AAChD,4BAAG,GAAG,EAAC;AACH,mCAAO,MAAM,CAAC,GAAG,CAAC,CAAC;yBACtB;AACD,+BAAO,CAAC,iBAAiB,CAAC,CAAC;qBAC9B,CAAC,CAAC;iBACN,CAAC,CAAC;aACN;;;;;;;;;;;;;;;;;;mBAgBM,mBAAW;;;kDAAN,IAAI;AAAJ,wBAAI;;;;;AACZ,oBAAI,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC;oBAChB,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;;AAEvB,uBAAO,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CACpC,IAAI,CAAC,YAAK;;AAEP,wBAAG,QAAQ,KAAI,UAAU,CAAC,sBAAsB,IAAI,OAAK,SAAS,EAAE,EAAE;AAClE,+BAAO,OAAK,YAAY,EAAE,CACrB,IAAI,4BApIvB,MAAM,4CAoImC,IAAI,EAAE,CAAC;qBACrC;;AAED,sDAvIV,MAAM,4CAuI4B,IAAI,EAAE;iBACjC,CAAC,CAAC;aACV;;;eAzIC,MAAM;OAAS,UAAU;;AA4I/B,QAAI,OAAO,GAAG,MAAM,CAAC;;;;;;AAMrB,QAAM,oBAAoB,GAAG;;;;;;AAMzB,gCAAwB,EAAE,mBAAmB;AAC7C,0BAAkB,EAAE,aAAa;AACjC,+BAAuB,EAAE,kBAAkB;AAC3C,yBAAiB,EAAE,YAAY;AAC/B,0BAAkB,EAAE,aAAa;AACjC,gCAAwB,EAAE,mBAAmB;AAC7C,8BAAsB,EAAE,OAAO;AAC/B,6BAAqB,EAAE,gBAAgB;AACvC,6BAAqB,EAAE,gBAAgB;AACvC,qBAAa,EAAE,QAAQ;AACvB,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,wBAAgB,EAAE,WAAW;AAC7B,uBAAe,EAAE,UAAU;AAC3B,wBAAgB,EAAE,WAAW;AAC7B,oBAAY,EAAE,OAAO;AACrB,6BAAqB,EAAE,eAAe;AACtC,gCAAwB,EAAE,mBAAmB;AAC7C,uBAAe,EAAE,UAAU;AAC3B,gDAAwC,EAAE,mCAAmC;AAC7E,qDAA6C,EAAE,wCAAwC;AACvF,+BAAuB,EAAE,kBAAkB;AAC3C,+BAAuB,EAAE,kBAAkB;AAC3C,oCAA4B,EAAE,uBAAuB;AACrD,+BAAuB,EAAE,kBAAkB;AAC3C,wBAAgB,EAAE,WAAW;AAC7B,iCAAyB,EAAE,WAAW;AACtC,wBAAgB,EAAE,WAAW;AAC7B,iCAAyB,EAAE,uBAAuB;AAClD,iCAAyB,EAAE,oBAAoB;AAC/C,oBAAY,EAAE,OAAO;AACrB,gCAAwB,EAAE,MAAM;AAChC,yBAAiB,EAAE,YAAY;AAC/B,2BAAmB,EAAE,cAAc;AACnC,4BAAoB,EAAE,eAAe;AACrC,mCAA2B,EAAE,mBAAmB;AAChD,2BAAmB,EAAE,cAAc;AACnC,uCAA+B,EAAE,oBAAoB;AACrD,iCAAyB,EAAE,qBAAqB;AAChD,2BAAmB,EAAE,cAAc;AACnC,kCAA0B,EAAE,aAAa;AACzC,+BAAuB,EAAE,kBAAkB;AAC3C,mCAA2B,EAAE,sBAAsB;AACnD,+BAAuB,EAAE,kBAAkB;AAC3C,gCAAwB,EAAE,mBAAmB;AAC7C,gCAAwB,EAAE,mBAAmB;AAC7C,6BAAqB,EAAE,gBAAgB;AACvC,qBAAa,EAAE,QAAQ;AACvB,wBAAgB,EAAE,WAAW;AAC7B,yBAAiB,EAAE,YAAY;AAC/B,8BAAsB,EAAE,SAAS;AACjC,sBAAc,EAAE,SAAS;AACzB,oCAA4B,EAAE,uBAAuB;AACrD,6BAAqB,EAAE,gBAAgB;AACvC,0BAAkB,EAAE,aAAa;AACjC,8BAAsB,EAAE,iBAAiB;AACzC,sBAAc,EAAE,SAAS;AACzB,wCAAgC,EAAE,2BAA2B;AAC7D,mCAA2B,EAAE,sBAAsB;AACnD,0BAAkB,EAAE,aAAa;AACjC,gCAAwB,EAAE,mBAAmB;AAC7C,4BAAoB,EAAE,eAAe;AACrC,yCAAiC,EAAE,4BAA4B;AAC/D,uCAA+B,EAAE,0BAA0B;AAC3D,gCAAwB,EAAE,mBAAmB;AAC7C,iCAAyB,EAAE,oBAAoB;AAC/C,oCAA4B,EAAE,uBAAuB;AACrD,uBAAe,EAAE,UAAU;AAC3B,4BAAoB,EAAE,eAAe;AACrC,qBAAa,EAAE,QAAQ;AACvB,8BAAsB,EAAE,iBAAiB;AACzC,yBAAiB,EAAE,YAAY;AAC/B,+BAAuB,EAAE,kBAAkB;AAC3C,+BAAuB,EAAE,kBAAkB;AAC3C,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,+BAAuB,EAAE,kBAAkB;AAC3C,yBAAiB,EAAE,YAAY;AAC/B,sBAAc,EAAE,SAAS;AACzB,sBAAc,EAAE,SAAS;AACzB,6BAAqB,EAAE,gBAAgB;AACvC,4BAAoB,EAAE,eAAe;AACrC,sBAAc,EAAE,SAAS;AACzB,uBAAe,EAAE,UAAU;AAC3B,6BAAqB,EAAE,gBAAgB;AACvC,oBAAY,EAAE,OAAO;AACrB,0BAAkB,EAAE,iBAAiB;AACrC,mCAA2B,EAAE,sBAAsB;AACnD,uCAA+B,EAAE,wBAAwB;AACzD,iCAAyB,EAAE,mBAAmB;AAC9C,oBAAY,EAAE,OAAO;AACrB,kCAA0B,EAAE,oBAAoB;AAChD,oBAAY,EAAE,OAAO;AACrB,iCAAyB,EAAE,oBAAoB;AAC/C,kCAA0B,EAAE,qBAAqB;;KAEpD,CAAC;;AAEF,QAAI,SAAS,GAAG,oBAAoB,CAAC;;;;;;AAMrC,QAAM,MAAM,GAAG;AACX,cAAM,EAAN,MAAM;AACN,iBAAS,EAAT,SAAS;AACT,iBAAS,EAAT,SAAS;KACZ,CAAC;;AAEF,QAAI,KAAK,GAAG,MAAM,CAAC;;AAEnB,WAAO,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;CAE9B,CAAC,CAAE","sourceRoot":"/source/","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('limiter'), require('request-promise')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'limiter', 'request-promise'], factory) :\n    factory((global.AddNXS = {}), global._limiter, global.request_promise)\n}(this, function (exports, _limiter, request_promise) { 'use strict';\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const _endpoints__endpoints = {\n\n        /**\n         * source: https://wiki.appnexus.com/display/api/API+Services\n         */\n\n        ACCOUNT_RECOVERY_SERVICE: '/account-recovery',\n        AD_PROFILE_SERVICE: '/ad-profile',\n        AD_QUALITY_RULE_SERVICE: '/ad-quality-rule',\n        AD_SERVER_SERVICE: '/ad-server',\n        ADVERTISER_SERVICE: '/advertiser',\n        APP_INSTALLATION_SERVICE: '/app-installation',\n        AUTHENTICATION_SERVICE: '/auth',\n        BATCH_SEGMENT_SERVICE: '/batch-segment',\n        BRAND_COMPANY_SERVICE: '/brand-company',\n        BRAND_SERVICE: '/brand',\n        BROKER_SERVICE: '/broker',\n        BROWSER_SERVICE: '/browser',\n        CAMPAIGN_SERVICE: '/campaign',\n        CARRIER_SERVICE: '/carrier',\n        CATEGORY_SERVICE: '/category',\n        CITY_SERVICE: '/city',\n        CLICK_TRACKER_SERVICE: '/clicktracker',\n        CONTENT_CATEGORY_SERVICE: '/content-category',\n        COUNTRY_SERVICE: '/country',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_SERVICE: '/creative-custom-request-template',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_TYPE_SERVICE: '/creative-custom-request-template-type',\n        CREATIVE_FOLDER_SERVICE: '/creative-folder',\n        CREATIVE_FORMAT_SERVICE: '/creative-format',\n        CREATIVE_MACRO_CHECK_SERVICE: '/creative-macro-check',\n        CREATIVE_SEARCH_SERVICE: '/creative-search',\n        CREATIVE_SERVICE: '/creative',\n        CREATIVE_TEMPLATE_SERVICE: '/template',\n        CURRENCY_SERVICE: '/currency',\n        DEAL_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        DEAL_FROM_PACKAGE_SERVICE: '/deal-from-package',\n        DEAL_SERVICE: '/deal',\n        DEMOGRAPHIC_AREA_SERVICE: '/dma',\n        DEVELOPER_SERVICE: '/developer',\n        DEVICE_MAKE_SERVICE: '/device-make',\n        DEVICE_MODEL_SERVICE: '/device-model',\n        DOMAIN_AUDIT_STATUS_SERVICE: '/url-audit-search',\n        DOMAIN_LIST_SERVICE: '/domain-list',\n        EXTERNAL_INVENTORY_CODE_SERVICE: '/external-inv-code',\n        EXTRACT_CLICKTAGS_SERVICE: '/extract-click-tags',\n        FEED_STATUS_SERVICE: '/feed-status',\n        IMPRESSION_TRACKER_SERVICE: '/imptracker',\n        INSERTION_ORDER_SERVICE: '/insertion-order',\n        INVENTORY_ATTRIBUTE_SERVICE: '/inventory-attribute',\n        INVENTORY_GROUP_SERVICE: '/inventory-group',\n        INVENTORY_RESOLD_SERVICE: '/inventory-resold',\n        INVENTORY_SOURCE_SERVICE: '/inventory-source',\n        IP_RANGE_LIST_SERVICE: '/ip-range-list',\n        LABEL_SERVICE: '/label',\n        LANGUAGE_SERVICE: '/language',\n        LINE_ITEM_SERVICE: '/line-item',\n        LOG_LEVEL_DATA_SERVICE: '/siphon',\n        LOOKUP_SERVICE: '/lookup',\n        MANUAL_OFFER_RANKING_SERVICE: '/manual-offer-ranking',\n        MEDIA_SUBTYPE_SERVICE: '/media-subtype',\n        MEDIA_TYPE_SERVICE: '/media-type',\n        MEMBER_PROFILE_SERVICE: '/member-profile',\n        MEMBER_SERVICE: '/member',\n        MOBILE_APP_INSTANCE_LIST_SERVICE: '/mobile-app-instance-list',\n        MOBILE_APP_INSTANCE_SERVICE: '/mobile-app-instance',\n        MOBILE_APP_SERVICE: '/mobile-app',\n        MOBILE_APP_STORE_SERVICE: '/mobile-app-store',\n        OBJECT_LIMIT_SERVICE: '/object-limit',\n        OPERATING_SYSTEM_EXTENDED_SERVICE: '/operating-system-extended',\n        OPERATING_SYSTEM_FAMILY_SERVICE: '/operating-system-family',\n        OPERATING_SYSTEM_SERVICE: '/operating-system',\n        OPTIMIZATION_ZONE_SERVICE: '/optimization-zone',\n        PACKAGE_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        PACKAGE_SERVICE: '/package',\n        PAYMENT_RULE_SERVICE: '/payment-rule',\n        PIXEL_SERVICE: '/pixel',\n        PIXEL_TEMPLATE_SERVICE: '/pixel-template',\n        PLACEMENT_SERVICE: '/placement',\n        PLATFORM_MEMBER_SERVICE: '/platform-member',\n        PLUGIN_INSTANCE_SERVICE: '/plugin-instance',\n        PLUGIN_SERVICE: '/plugin',\n        PROFILE_SERVICE: '/profile',\n        PROFILE_SUMMARY_SERVICE: '/profile-summary',\n        PUBLISHER_SERVICE: '/publisher',\n        REGION_SERVICE: '/region',\n        REPORT_SERVICE: '/report',\n        REPORT_STATUS_SERVICE: '/report-status',\n        SAVED_REPORT_SERVICE: '/saved-report',\n        SEARCH_SERVICE: '/search',\n        SEGMENT_SERVICE: '/segment',\n        SIPHON_CONFIG_SERVICE: '/siphon-config',\n        SITE_SERVICE: '/site',\n        TAG_PARSER_SERVICE: '/tag-parser-job',\n        TECHNICAL_ATTRIBUTE_SERVICE: '/technical-attribute',\n        THIRD_PARTY_PAGE_ACCESS_SERVICE: '/thirdparty-pageaccess',\n        THIRD_PARTY_PIXEL_SERVICE: '/thirdparty-pixel',\n        TOWN_SERVICE: '/town',\n        USER_GROUP_PATTERN_SERVICE: '/usergroup-pattern',\n        USER_SERVICE: '/user',\n        USER_VERIFICATION_SERVICE: '/user-verification',\n        VISIBILITY_PROFILE_SERVICE: '/visibility-profile'\n\n    };\n\n    var _endpoints = _endpoints__endpoints;\n\n    /*jshint camelcase: false */\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    function responseContainsError(body) {\n        if (body.response.status !== 'OK') {\n            return true;\n        }\n        return false;\n    }\n\n\n    function wrapAppnexusError(body) {\n        var error = new Error(body && body.response && body.response.error);\n        error.error_id = body && body.response && body.response.error_id;\n        return error;\n    }\n\n    function handleErrorResponse(body, eventEmitter, callback) {\n        var error = wrapAppnexusError(body);\n        //if (error.error_id) {\n        //    //eventEmitter.emit(error.error_id, body.response);\n        //}\n        //return callback(error);\n\n        return error;\n    }\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n    const MAX_WRITE_PER_MIN = 60;\n\n    /** @constant {number} */\n    const MAX_READ_PER_MIN = 100;\n\n    /**\n     * AppNexus Transport class.\n     * @class Transport\n     * @classdesc The transport is responsible for handling al request to the AppNexus api service\n     */\n    class Transport{\n        /**\n         * Transport constructor.\n         * @constructs Transport\n         * @params {object} [options={}] - transport options\n         */\n        constructor(options = {}){\n\n            /**\n             * Transport options\n             * @member Client#options\n             */\n            this.options = options;\n\n            this.options.apiBase = this.options.apiBase || '/';\n        }\n\n        /**\n         * Preform a GET request\n         *\n         * @method get\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        get(endpoint, args={}){\n            return this.request('GET', endpoint, args);\n        }\n\n        /**\n         * Preform a PUT update request\n         *\n         * @method put\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        put(endpoint, args={}){\n            return this.request('PUT', endpoint, args);\n        }\n\n        /**\n         * Preform a POST request\n         *\n         * @method post\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        post(endpoint, args={}){\n            return this.request('POST', endpoint, args);\n        }\n\n        ///**\n        // * Preform a DELETE request\n        // *\n        // * @method delete\n        // * @see {@link uri} for possible endpoints.\n        // * @params {string} endpoint - api endpoint\n        // * @params {object} [args={}] - arguments\n        // * @returns {Promise<Object, Error>} Response body\n        // **/\n        //delete(endpoint, args={}){\n        //    return this.request('DELETE', endpoint, args);\n        //}\n\n        /**\n         * Preform a the actual request\n         *\n         * @method request\n         * @private\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        request(method, endpoint, args){\n\n            var payload = {\n                uri : this.options.apiBase + endpoint,\n                json: args,\n                method\n            };\n\n            if(this.options.token){\n                payload.headers = {\n                    'Authorization': this.options.token\n                };\n            }\n\n            return request_promise__default(payload)\n                .then((body)=>{\n                    if(responseContainsError(body)){ throw handleErrorResponse(body);}\n                    return body.response;\n                });\n        }\n    }\n\n    var _Transport = Transport;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n    const MAX_AUTH_PERIOD = 300000;\n\n    /** @constant {number} */\n    const MAX_READ_PERIOD = 60000;\n\n    /** @constant {number} */\n    const MAX_WRITE_PERIOD = 60000;\n\n    /** @constant {number} */\n    const MAX_READ_PER_PERIOD = 100;\n\n    /** @constant {number} */\n    const MAX_WRITE_PER_PERIOD = 60;\n\n    /** @constant {number} */\n    const MAX_AUTH_PER_PERIOD = 10;\n\n    /** @constant {number} */\n    const TOKEN_LIFETIME = 60*60*1000;\n\n    /** @private */\n    var credentials = {};\n\n\n    /**\n     * AppNexus Client API class.\n     *\n     * @class Client\n     * @extends Transport\n     */\n    class Client extends _Transport{\n\n        /**\n         * Client constructor.\n         *\n         * @constructs Client\n         * @params {string} [apiBase=http://api.appnexus.com] - default api domain\n         */\n        constructor( apiBase='http://api.appnexus.com', limits={}) {\n            super();\n            this.options = { apiBase, limits };\n\n            /* Set limiters */\n            this.writeLimiter = new _limiter.RateLimiter(limits.write || MAX_WRITE_PER_PERIOD, MAX_WRITE_PERIOD);\n            this.readLimiter = new _limiter.RateLimiter(limits.read ||MAX_READ_PER_PERIOD, MAX_READ_PERIOD);\n            this.authLimiter = new _limiter.RateLimiter(limits.auth ||MAX_AUTH_PER_PERIOD, MAX_AUTH_PERIOD);\n        }\n\n        /**\n         * Authorize client function\n         *\n         * @method authorize\n         * @params {string} username - Username\n         * @params {string} password - Password\n         * @returns {Promise<String, Error>} AppNexus Access Token\n         */\n        authorize(username, password){\n\n            if(!username || !password){\n                throw Error('Authorization credentials are missing!');\n            }\n\n            credentials = { username, password };\n\n            var data = {\n                auth : credentials\n            };\n\n            if(this.options.token){\n                delete this.options.token;\n            }\n\n            return this.post(_endpoints.AUTHENTICATION_SERVICE, data)\n                .then((response) => {\n                    console.log(response);\n\n                    this.options.token  = {value: response.token, _ts: +new Date()};\n                    return response.token;\n                });\n        }\n\n        /**\n         * Refresh token\n         **\n         * @method refreshToken\n         * @returns {Promise<String, Error>} AppNexus Access Token\n         */\n        refreshToken(){\n            if(!credentials.username || !credentials.password){\n                throw Error('Authorization credentials are missing!');\n            }\n\n            return this.authorize(credentials.username, credentials.password);\n        }\n\n        /**\n         * Checks if request token is not expired\n         **\n         * @isExpired rateLimiter\n         * @returns {boolean} token expired\n         */\n        isExpired(){\n            return !!(this.options.token && (this.options.token._ts + TOKEN_LIFETIME) >= +new Date());\n        }\n\n\n        /**\n         * Rate limit a request according to specs\n         **\n         * @method rateLimiter\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @returns {Promise<Number, Error>} Number of request left\n         */\n        rateLimiter(method, endpoint){\n\n            return new Promise((resolve, reject) => {\n                var limiter = null;\n\n                if(endpoint === _endpoints.AUTHENTICATION_SERVICE){\n                    limiter = this.authLimiter;\n                } else if(method === 'POST' ||  method === 'PUT' ||  method === 'DELETE'){\n                    limiter = this.writeLimiter;\n                } else if(method === 'GET'){\n                    limiter = this.readLimiter;\n                } else {\n                    return resolve();\n                }\n\n                limiter.removeTokens(1, (err, remainingRequests) => {\n                    if(err){\n                        return reject(err);\n                    }\n                    resolve(remainingRequests);\n                });\n            });\n        }\n\n        /**\n         * Request client function\n         *\n         * Adds rate limit and ensures refresh token is valid\n         *\n         * @method request\n         * @extends Transport.request\n         * @private\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         */\n        request( ...args ){\n            var method = args[0],\n                endpoint = args[1];\n\n            return this.rateLimiter(method, endpoint)\n                .then(() =>{\n                    // check if token is still valid\n                    if(endpoint!== _endpoints.AUTHENTICATION_SERVICE && this.isExpired()) {\n                        return this.refreshToken()\n                            .then(super.request(...args));\n                    }\n\n                    return super.request(...args);\n                });\n        }\n    }\n\n    var _Client = Client;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const endPoints__endpoints = {\n\n        /**\n         * source: https://wiki.appnexus.com/display/api/API+Services\n         */\n\n        ACCOUNT_RECOVERY_SERVICE: '/account-recovery',\n        AD_PROFILE_SERVICE: '/ad-profile',\n        AD_QUALITY_RULE_SERVICE: '/ad-quality-rule',\n        AD_SERVER_SERVICE: '/ad-server',\n        ADVERTISER_SERVICE: '/advertiser',\n        APP_INSTALLATION_SERVICE: '/app-installation',\n        AUTHENTICATION_SERVICE: '/auth',\n        BATCH_SEGMENT_SERVICE: '/batch-segment',\n        BRAND_COMPANY_SERVICE: '/brand-company',\n        BRAND_SERVICE: '/brand',\n        BROKER_SERVICE: '/broker',\n        BROWSER_SERVICE: '/browser',\n        CAMPAIGN_SERVICE: '/campaign',\n        CARRIER_SERVICE: '/carrier',\n        CATEGORY_SERVICE: '/category',\n        CITY_SERVICE: '/city',\n        CLICK_TRACKER_SERVICE: '/clicktracker',\n        CONTENT_CATEGORY_SERVICE: '/content-category',\n        COUNTRY_SERVICE: '/country',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_SERVICE: '/creative-custom-request-template',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_TYPE_SERVICE: '/creative-custom-request-template-type',\n        CREATIVE_FOLDER_SERVICE: '/creative-folder',\n        CREATIVE_FORMAT_SERVICE: '/creative-format',\n        CREATIVE_MACRO_CHECK_SERVICE: '/creative-macro-check',\n        CREATIVE_SEARCH_SERVICE: '/creative-search',\n        CREATIVE_SERVICE: '/creative',\n        CREATIVE_TEMPLATE_SERVICE: '/template',\n        CURRENCY_SERVICE: '/currency',\n        DEAL_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        DEAL_FROM_PACKAGE_SERVICE: '/deal-from-package',\n        DEAL_SERVICE: '/deal',\n        DEMOGRAPHIC_AREA_SERVICE: '/dma',\n        DEVELOPER_SERVICE: '/developer',\n        DEVICE_MAKE_SERVICE: '/device-make',\n        DEVICE_MODEL_SERVICE: '/device-model',\n        DOMAIN_AUDIT_STATUS_SERVICE: '/url-audit-search',\n        DOMAIN_LIST_SERVICE: '/domain-list',\n        EXTERNAL_INVENTORY_CODE_SERVICE: '/external-inv-code',\n        EXTRACT_CLICKTAGS_SERVICE: '/extract-click-tags',\n        FEED_STATUS_SERVICE: '/feed-status',\n        IMPRESSION_TRACKER_SERVICE: '/imptracker',\n        INSERTION_ORDER_SERVICE: '/insertion-order',\n        INVENTORY_ATTRIBUTE_SERVICE: '/inventory-attribute',\n        INVENTORY_GROUP_SERVICE: '/inventory-group',\n        INVENTORY_RESOLD_SERVICE: '/inventory-resold',\n        INVENTORY_SOURCE_SERVICE: '/inventory-source',\n        IP_RANGE_LIST_SERVICE: '/ip-range-list',\n        LABEL_SERVICE: '/label',\n        LANGUAGE_SERVICE: '/language',\n        LINE_ITEM_SERVICE: '/line-item',\n        LOG_LEVEL_DATA_SERVICE: '/siphon',\n        LOOKUP_SERVICE: '/lookup',\n        MANUAL_OFFER_RANKING_SERVICE: '/manual-offer-ranking',\n        MEDIA_SUBTYPE_SERVICE: '/media-subtype',\n        MEDIA_TYPE_SERVICE: '/media-type',\n        MEMBER_PROFILE_SERVICE: '/member-profile',\n        MEMBER_SERVICE: '/member',\n        MOBILE_APP_INSTANCE_LIST_SERVICE: '/mobile-app-instance-list',\n        MOBILE_APP_INSTANCE_SERVICE: '/mobile-app-instance',\n        MOBILE_APP_SERVICE: '/mobile-app',\n        MOBILE_APP_STORE_SERVICE: '/mobile-app-store',\n        OBJECT_LIMIT_SERVICE: '/object-limit',\n        OPERATING_SYSTEM_EXTENDED_SERVICE: '/operating-system-extended',\n        OPERATING_SYSTEM_FAMILY_SERVICE: '/operating-system-family',\n        OPERATING_SYSTEM_SERVICE: '/operating-system',\n        OPTIMIZATION_ZONE_SERVICE: '/optimization-zone',\n        PACKAGE_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        PACKAGE_SERVICE: '/package',\n        PAYMENT_RULE_SERVICE: '/payment-rule',\n        PIXEL_SERVICE: '/pixel',\n        PIXEL_TEMPLATE_SERVICE: '/pixel-template',\n        PLACEMENT_SERVICE: '/placement',\n        PLATFORM_MEMBER_SERVICE: '/platform-member',\n        PLUGIN_INSTANCE_SERVICE: '/plugin-instance',\n        PLUGIN_SERVICE: '/plugin',\n        PROFILE_SERVICE: '/profile',\n        PROFILE_SUMMARY_SERVICE: '/profile-summary',\n        PUBLISHER_SERVICE: '/publisher',\n        REGION_SERVICE: '/region',\n        REPORT_SERVICE: '/report',\n        REPORT_STATUS_SERVICE: '/report-status',\n        SAVED_REPORT_SERVICE: '/saved-report',\n        SEARCH_SERVICE: '/search',\n        SEGMENT_SERVICE: '/segment',\n        SIPHON_CONFIG_SERVICE: '/siphon-config',\n        SITE_SERVICE: '/site',\n        TAG_PARSER_SERVICE: '/tag-parser-job',\n        TECHNICAL_ATTRIBUTE_SERVICE: '/technical-attribute',\n        THIRD_PARTY_PAGE_ACCESS_SERVICE: '/thirdparty-pageaccess',\n        THIRD_PARTY_PIXEL_SERVICE: '/thirdparty-pixel',\n        TOWN_SERVICE: '/town',\n        USER_GROUP_PATTERN_SERVICE: '/usergroup-pattern',\n        USER_SERVICE: '/user',\n        USER_VERIFICATION_SERVICE: '/user-verification',\n        VISIBILITY_PROFILE_SERVICE: '/visibility-profile'\n\n    };\n\n    var endPoints = endPoints__endpoints;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const AppNxs = {\n        Client,\n        Transport,\n        endPoints\n    };\n\n    var index = AppNxs;\n\n    exports['default'] = index;\n\n}));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('limiter'), require('request-promise')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'limiter', 'request-promise'], factory) :\n    factory((global.AddNXS = {}), global._limiter, global.request_promise)\n}(this, function (exports, _limiter, request_promise) { 'use strict';\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const _endpoints__endpoints = {\n\n        /**\n         * source: https://wiki.appnexus.com/display/api/API+Services\n         */\n\n        ACCOUNT_RECOVERY_SERVICE: '/account-recovery',\n        AD_PROFILE_SERVICE: '/ad-profile',\n        AD_QUALITY_RULE_SERVICE: '/ad-quality-rule',\n        AD_SERVER_SERVICE: '/ad-server',\n        ADVERTISER_SERVICE: '/advertiser',\n        APP_INSTALLATION_SERVICE: '/app-installation',\n        AUTHENTICATION_SERVICE: '/auth',\n        BATCH_SEGMENT_SERVICE: '/batch-segment',\n        BRAND_COMPANY_SERVICE: '/brand-company',\n        BRAND_SERVICE: '/brand',\n        BROKER_SERVICE: '/broker',\n        BROWSER_SERVICE: '/browser',\n        CAMPAIGN_SERVICE: '/campaign',\n        CARRIER_SERVICE: '/carrier',\n        CATEGORY_SERVICE: '/category',\n        CITY_SERVICE: '/city',\n        CLICK_TRACKER_SERVICE: '/clicktracker',\n        CONTENT_CATEGORY_SERVICE: '/content-category',\n        COUNTRY_SERVICE: '/country',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_SERVICE: '/creative-custom-request-template',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_TYPE_SERVICE: '/creative-custom-request-template-type',\n        CREATIVE_FOLDER_SERVICE: '/creative-folder',\n        CREATIVE_FORMAT_SERVICE: '/creative-format',\n        CREATIVE_MACRO_CHECK_SERVICE: '/creative-macro-check',\n        CREATIVE_SEARCH_SERVICE: '/creative-search',\n        CREATIVE_SERVICE: '/creative',\n        CREATIVE_TEMPLATE_SERVICE: '/template',\n        CURRENCY_SERVICE: '/currency',\n        DEAL_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        DEAL_FROM_PACKAGE_SERVICE: '/deal-from-package',\n        DEAL_SERVICE: '/deal',\n        DEMOGRAPHIC_AREA_SERVICE: '/dma',\n        DEVELOPER_SERVICE: '/developer',\n        DEVICE_MAKE_SERVICE: '/device-make',\n        DEVICE_MODEL_SERVICE: '/device-model',\n        DOMAIN_AUDIT_STATUS_SERVICE: '/url-audit-search',\n        DOMAIN_LIST_SERVICE: '/domain-list',\n        EXTERNAL_INVENTORY_CODE_SERVICE: '/external-inv-code',\n        EXTRACT_CLICKTAGS_SERVICE: '/extract-click-tags',\n        FEED_STATUS_SERVICE: '/feed-status',\n        IMPRESSION_TRACKER_SERVICE: '/imptracker',\n        INSERTION_ORDER_SERVICE: '/insertion-order',\n        INVENTORY_ATTRIBUTE_SERVICE: '/inventory-attribute',\n        INVENTORY_GROUP_SERVICE: '/inventory-group',\n        INVENTORY_RESOLD_SERVICE: '/inventory-resold',\n        INVENTORY_SOURCE_SERVICE: '/inventory-source',\n        IP_RANGE_LIST_SERVICE: '/ip-range-list',\n        LABEL_SERVICE: '/label',\n        LANGUAGE_SERVICE: '/language',\n        LINE_ITEM_SERVICE: '/line-item',\n        LOG_LEVEL_DATA_SERVICE: '/siphon',\n        LOOKUP_SERVICE: '/lookup',\n        MANUAL_OFFER_RANKING_SERVICE: '/manual-offer-ranking',\n        MEDIA_SUBTYPE_SERVICE: '/media-subtype',\n        MEDIA_TYPE_SERVICE: '/media-type',\n        MEMBER_PROFILE_SERVICE: '/member-profile',\n        MEMBER_SERVICE: '/member',\n        MOBILE_APP_INSTANCE_LIST_SERVICE: '/mobile-app-instance-list',\n        MOBILE_APP_INSTANCE_SERVICE: '/mobile-app-instance',\n        MOBILE_APP_SERVICE: '/mobile-app',\n        MOBILE_APP_STORE_SERVICE: '/mobile-app-store',\n        OBJECT_LIMIT_SERVICE: '/object-limit',\n        OPERATING_SYSTEM_EXTENDED_SERVICE: '/operating-system-extended',\n        OPERATING_SYSTEM_FAMILY_SERVICE: '/operating-system-family',\n        OPERATING_SYSTEM_SERVICE: '/operating-system',\n        OPTIMIZATION_ZONE_SERVICE: '/optimization-zone',\n        PACKAGE_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        PACKAGE_SERVICE: '/package',\n        PAYMENT_RULE_SERVICE: '/payment-rule',\n        PIXEL_SERVICE: '/pixel',\n        PIXEL_TEMPLATE_SERVICE: '/pixel-template',\n        PLACEMENT_SERVICE: '/placement',\n        PLATFORM_MEMBER_SERVICE: '/platform-member',\n        PLUGIN_INSTANCE_SERVICE: '/plugin-instance',\n        PLUGIN_SERVICE: '/plugin',\n        PROFILE_SERVICE: '/profile',\n        PROFILE_SUMMARY_SERVICE: '/profile-summary',\n        PUBLISHER_SERVICE: '/publisher',\n        REGION_SERVICE: '/region',\n        REPORT_SERVICE: '/report',\n        REPORT_STATUS_SERVICE: '/report-status',\n        SAVED_REPORT_SERVICE: '/saved-report',\n        SEARCH_SERVICE: '/search',\n        SEGMENT_SERVICE: '/segment',\n        SIPHON_CONFIG_SERVICE: '/siphon-config',\n        SITE_SERVICE: '/site',\n        TAG_PARSER_SERVICE: '/tag-parser-job',\n        TECHNICAL_ATTRIBUTE_SERVICE: '/technical-attribute',\n        THIRD_PARTY_PAGE_ACCESS_SERVICE: '/thirdparty-pageaccess',\n        THIRD_PARTY_PIXEL_SERVICE: '/thirdparty-pixel',\n        TOWN_SERVICE: '/town',\n        USER_GROUP_PATTERN_SERVICE: '/usergroup-pattern',\n        USER_SERVICE: '/user',\n        USER_VERIFICATION_SERVICE: '/user-verification',\n        VISIBILITY_PROFILE_SERVICE: '/visibility-profile'\n\n    };\n\n    var _endpoints = _endpoints__endpoints;\n\n    /*jshint camelcase: false */\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    function responseContainsError(body) {\n        if (body.response.status !== 'OK') {\n            return true;\n        }\n        return false;\n    }\n\n\n    function wrapAppnexusError(body) {\n        var error = new Error(body && body.response && body.response.error);\n        error.error_id = body && body.response && body.response.error_id;\n        return error;\n    }\n\n    function handleErrorResponse(body, eventEmitter, callback) {\n        var error = wrapAppnexusError(body);\n        //if (error.error_id) {\n        //    //eventEmitter.emit(error.error_id, body.response);\n        //}\n        //return callback(error);\n\n        return error;\n    }\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n    const MAX_WRITE_PER_MIN = 60;\n\n    /** @constant {number} */\n    const MAX_READ_PER_MIN = 100;\n\n    /**\n     * AppNexus Transport class.\n     * @class Transport\n     * @classdesc The transport is responsible for handling al request to the AppNexus api service\n     */\n    class Transport{\n        /**\n         * Transport constructor.\n         * @constructs Transport\n         * @params {object} [options={}] - transport options\n         */\n        constructor(options = {}){\n\n            /**\n             * Transport options\n             * @member Client#options\n             */\n            this.options = options;\n\n            this.options.apiBase = this.options.apiBase || '/';\n        }\n\n        /**\n         * Preform a GET request\n         *\n         * @method get\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        get(endpoint, args={}){\n            return this.request('GET', endpoint, args);\n        }\n\n        /**\n         * Preform a PUT update request\n         *\n         * @method put\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        put(endpoint, args={}){\n            return this.request('PUT', endpoint, args);\n        }\n\n        /**\n         * Preform a POST request\n         *\n         * @method post\n         * @see {@link uri} for possible endpoints.\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        post(endpoint, args={}){\n            return this.request('POST', endpoint, args);\n        }\n\n        ///**\n        // * Preform a DELETE request\n        // *\n        // * @method delete\n        // * @see {@link uri} for possible endpoints.\n        // * @params {string} endpoint - api endpoint\n        // * @params {object} [args={}] - arguments\n        // * @returns {Promise<Object, Error>} Response body\n        // **/\n        //delete(endpoint, args={}){\n        //    return this.request('DELETE', endpoint, args);\n        //}\n\n        /**\n         * Preform a the actual request\n         *\n         * @method request\n         * @private\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         **/\n        request(method, endpoint, args){\n\n            var payload = {\n                uri : this.options.apiBase + endpoint,\n                json: args,\n                method\n            };\n\n            if(this.options.token){\n                payload.headers = {\n                    'Authorization': this.options.token\n                };\n            }\n\n            return request_promise__default(payload)\n                .then((body)=>{\n                    if(responseContainsError(body)){ throw handleErrorResponse(body);}\n                    return body.response;\n                });\n        }\n    }\n\n    var _Transport = Transport;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n    const MAX_AUTH_PERIOD = 300000;\n\n    /** @constant {number} */\n    const MAX_READ_PERIOD = 60000;\n\n    /** @constant {number} */\n    const MAX_WRITE_PERIOD = 60000;\n\n    /** @constant {number} */\n    const MAX_READ_PER_PERIOD = 100;\n\n    /** @constant {number} */\n    const MAX_WRITE_PER_PERIOD = 60;\n\n    /** @constant {number} */\n    const MAX_AUTH_PER_PERIOD = 10;\n\n    /** @constant {number} */\n    const TOKEN_LIFETIME = 60*60*1000;\n\n    /** @private */\n    var credentials = {};\n\n\n    /**\n     * AppNexus Client API class.\n     *\n     * @class Client\n     * @extends Transport\n     */\n    class Client extends _Transport{\n\n        /**\n         * Client constructor.\n         *\n         * @constructs Client\n         * @params {string} [apiBase=http://api.appnexus.com] - default api domain\n         */\n        constructor( apiBase='http://api.appnexus.com', limits={}) {\n            super();\n            this.options = { apiBase, limits };\n\n            /* Set limiters */\n            this.writeLimiter = new _limiter.RateLimiter(limits.write || MAX_WRITE_PER_PERIOD, MAX_WRITE_PERIOD);\n            this.readLimiter = new _limiter.RateLimiter(limits.read ||MAX_READ_PER_PERIOD, MAX_READ_PERIOD);\n            this.authLimiter = new _limiter.RateLimiter(limits.auth ||MAX_AUTH_PER_PERIOD, MAX_AUTH_PERIOD);\n        }\n\n        /**\n         * Authorize client function\n         *\n         * @method authorize\n         * @params {string} username - Username\n         * @params {string} password - Password\n         * @returns {Promise<String, Error>} AppNexus Access Token\n         */\n        authorize(username, password){\n\n            if(!username || !password){\n                throw Error('Authorization credentials are missing!');\n            }\n\n            credentials = { username, password };\n\n            var data = {\n                auth : credentials\n            };\n\n            if(this.options.token){\n                delete this.options.token;\n            }\n\n            return this.post(_endpoints.AUTHENTICATION_SERVICE, data)\n                .then((response) => {\n                    console.log(response);\n\n                    this.options.token  = {value: response.token, _ts: +new Date()};\n                    return response.token;\n                });\n        }\n\n        /**\n         * Refresh token\n         **\n         * @method refreshToken\n         * @returns {Promise<String, Error>} AppNexus Access Token\n         */\n        refreshToken(){\n            if(!credentials.username || !credentials.password){\n                throw Error('Authorization credentials are missing!');\n            }\n\n            return this.authorize(credentials.username, credentials.password);\n        }\n\n        /**\n         * Checks if request token is not expired\n         **\n         * @isExpired rateLimiter\n         * @returns {boolean} token expired\n         */\n        isExpired(){\n            return !!(this.options.token && (this.options.token._ts + TOKEN_LIFETIME) >= +new Date());\n        }\n\n\n        /**\n         * Rate limit a request according to specs\n         **\n         * @method rateLimiter\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @returns {Promise<Number, Error>} Number of request left\n         */\n        rateLimiter(method, endpoint){\n\n            return new Promise((resolve, reject) => {\n                var limiter = null;\n\n                if(endpoint === _endpoints.AUTHENTICATION_SERVICE){\n                    limiter = this.authLimiter;\n                } else if(method === 'POST' ||  method === 'PUT' ||  method === 'DELETE'){\n                    limiter = this.writeLimiter;\n                } else if(method === 'GET'){\n                    limiter = this.readLimiter;\n                } else {\n                    return resolve();\n                }\n\n                limiter.removeTokens(1, (err, remainingRequests) => {\n                    if(err){\n                        return reject(err);\n                    }\n                    resolve(remainingRequests);\n                });\n            });\n        }\n\n        /**\n         * Request client function\n         *\n         * Adds rate limit and ensures refresh token is valid\n         *\n         * @method request\n         * @extends Transport.request\n         * @private\n         * @see {@link uri} for possible endpoints.\n         * @params {string} method - Request method\n         * @params {string} endpoint - api endpoint\n         * @params {object} [args={}] - arguments\n         * @returns {Promise<Object, Error>} Response body\n         */\n        request( ...args ){\n            var method = args[0],\n                endpoint = args[1];\n\n            return this.rateLimiter(method, endpoint)\n                .then(() =>{\n                    // check if token is still valid\n                    if(endpoint!== _endpoints.AUTHENTICATION_SERVICE && this.isExpired()) {\n                        return this.refreshToken()\n                            .then(super.request(...args));\n                    }\n\n                    return super.request(...args);\n                });\n        }\n    }\n\n    var _Client = Client;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const endPoints__endpoints = {\n\n        /**\n         * source: https://wiki.appnexus.com/display/api/API+Services\n         */\n\n        ACCOUNT_RECOVERY_SERVICE: '/account-recovery',\n        AD_PROFILE_SERVICE: '/ad-profile',\n        AD_QUALITY_RULE_SERVICE: '/ad-quality-rule',\n        AD_SERVER_SERVICE: '/ad-server',\n        ADVERTISER_SERVICE: '/advertiser',\n        APP_INSTALLATION_SERVICE: '/app-installation',\n        AUTHENTICATION_SERVICE: '/auth',\n        BATCH_SEGMENT_SERVICE: '/batch-segment',\n        BRAND_COMPANY_SERVICE: '/brand-company',\n        BRAND_SERVICE: '/brand',\n        BROKER_SERVICE: '/broker',\n        BROWSER_SERVICE: '/browser',\n        CAMPAIGN_SERVICE: '/campaign',\n        CARRIER_SERVICE: '/carrier',\n        CATEGORY_SERVICE: '/category',\n        CITY_SERVICE: '/city',\n        CLICK_TRACKER_SERVICE: '/clicktracker',\n        CONTENT_CATEGORY_SERVICE: '/content-category',\n        COUNTRY_SERVICE: '/country',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_SERVICE: '/creative-custom-request-template',\n        CREATIVE_CUSTOM_REQUEST_TEMPLATE_TYPE_SERVICE: '/creative-custom-request-template-type',\n        CREATIVE_FOLDER_SERVICE: '/creative-folder',\n        CREATIVE_FORMAT_SERVICE: '/creative-format',\n        CREATIVE_MACRO_CHECK_SERVICE: '/creative-macro-check',\n        CREATIVE_SEARCH_SERVICE: '/creative-search',\n        CREATIVE_SERVICE: '/creative',\n        CREATIVE_TEMPLATE_SERVICE: '/template',\n        CURRENCY_SERVICE: '/currency',\n        DEAL_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        DEAL_FROM_PACKAGE_SERVICE: '/deal-from-package',\n        DEAL_SERVICE: '/deal',\n        DEMOGRAPHIC_AREA_SERVICE: '/dma',\n        DEVELOPER_SERVICE: '/developer',\n        DEVICE_MAKE_SERVICE: '/device-make',\n        DEVICE_MODEL_SERVICE: '/device-model',\n        DOMAIN_AUDIT_STATUS_SERVICE: '/url-audit-search',\n        DOMAIN_LIST_SERVICE: '/domain-list',\n        EXTERNAL_INVENTORY_CODE_SERVICE: '/external-inv-code',\n        EXTRACT_CLICKTAGS_SERVICE: '/extract-click-tags',\n        FEED_STATUS_SERVICE: '/feed-status',\n        IMPRESSION_TRACKER_SERVICE: '/imptracker',\n        INSERTION_ORDER_SERVICE: '/insertion-order',\n        INVENTORY_ATTRIBUTE_SERVICE: '/inventory-attribute',\n        INVENTORY_GROUP_SERVICE: '/inventory-group',\n        INVENTORY_RESOLD_SERVICE: '/inventory-resold',\n        INVENTORY_SOURCE_SERVICE: '/inventory-source',\n        IP_RANGE_LIST_SERVICE: '/ip-range-list',\n        LABEL_SERVICE: '/label',\n        LANGUAGE_SERVICE: '/language',\n        LINE_ITEM_SERVICE: '/line-item',\n        LOG_LEVEL_DATA_SERVICE: '/siphon',\n        LOOKUP_SERVICE: '/lookup',\n        MANUAL_OFFER_RANKING_SERVICE: '/manual-offer-ranking',\n        MEDIA_SUBTYPE_SERVICE: '/media-subtype',\n        MEDIA_TYPE_SERVICE: '/media-type',\n        MEMBER_PROFILE_SERVICE: '/member-profile',\n        MEMBER_SERVICE: '/member',\n        MOBILE_APP_INSTANCE_LIST_SERVICE: '/mobile-app-instance-list',\n        MOBILE_APP_INSTANCE_SERVICE: '/mobile-app-instance',\n        MOBILE_APP_SERVICE: '/mobile-app',\n        MOBILE_APP_STORE_SERVICE: '/mobile-app-store',\n        OBJECT_LIMIT_SERVICE: '/object-limit',\n        OPERATING_SYSTEM_EXTENDED_SERVICE: '/operating-system-extended',\n        OPERATING_SYSTEM_FAMILY_SERVICE: '/operating-system-family',\n        OPERATING_SYSTEM_SERVICE: '/operating-system',\n        OPTIMIZATION_ZONE_SERVICE: '/optimization-zone',\n        PACKAGE_BUYER_ACCESS_SERVICE: '/package-buyer-access',\n        PACKAGE_SERVICE: '/package',\n        PAYMENT_RULE_SERVICE: '/payment-rule',\n        PIXEL_SERVICE: '/pixel',\n        PIXEL_TEMPLATE_SERVICE: '/pixel-template',\n        PLACEMENT_SERVICE: '/placement',\n        PLATFORM_MEMBER_SERVICE: '/platform-member',\n        PLUGIN_INSTANCE_SERVICE: '/plugin-instance',\n        PLUGIN_SERVICE: '/plugin',\n        PROFILE_SERVICE: '/profile',\n        PROFILE_SUMMARY_SERVICE: '/profile-summary',\n        PUBLISHER_SERVICE: '/publisher',\n        REGION_SERVICE: '/region',\n        REPORT_SERVICE: '/report',\n        REPORT_STATUS_SERVICE: '/report-status',\n        SAVED_REPORT_SERVICE: '/saved-report',\n        SEARCH_SERVICE: '/search',\n        SEGMENT_SERVICE: '/segment',\n        SIPHON_CONFIG_SERVICE: '/siphon-config',\n        SITE_SERVICE: '/site',\n        TAG_PARSER_SERVICE: '/tag-parser-job',\n        TECHNICAL_ATTRIBUTE_SERVICE: '/technical-attribute',\n        THIRD_PARTY_PAGE_ACCESS_SERVICE: '/thirdparty-pageaccess',\n        THIRD_PARTY_PIXEL_SERVICE: '/thirdparty-pixel',\n        TOWN_SERVICE: '/town',\n        USER_GROUP_PATTERN_SERVICE: '/usergroup-pattern',\n        USER_SERVICE: '/user',\n        USER_VERIFICATION_SERVICE: '/user-verification',\n        VISIBILITY_PROFILE_SERVICE: '/visibility-profile'\n\n    };\n\n    var endPoints = endPoints__endpoints;\n\n    /**\n     * Created by Luke on 01/05/15.\n     */\n\n    const AppNxs = {\n        Client,\n        Transport,\n        endPoints\n    };\n\n    var index = AppNxs;\n\n    exports['default'] = index;\n\n}));\n"]}